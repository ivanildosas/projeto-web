<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:p="http://primefaces.org/ui">
	<ui:composition>

		<br/> <br/>
	
	<p:panelGrid id="panelCompanhia">
	
		<h:form id="cadComp">
			<p:growl id="growlComp" showDetail="true" life="5000"/>
			
			<p:panel header="Companhia">
				<p:outputLabel for="inputCompanhiaNome" value="Nome: "/>
				<p:inputText id="inputCompanhiaNome" value="#{companhiaController.companhia.nome}"/>	
				<br/> <br/>
				<p:commandButton id="btSalvarCompanhia" 
						actionListener="#{companhiaController.salvar()}" 
						value="Salvar"  
						update="tViewGeral tViewGeral:tViewCadastro"
						global="true"
						process="@form"/>
			</p:panel>
		</h:form>
		
		<br/> <br/>
		
		<p:panel header="Lista de companhia(s) cadastradas">
			
			<p:dataTable id="listaComps" var="comp" value="#{companhiaController.listaCompanhias}">
				
				<p:column headerText="Nome" width="200" style="text-align:center">
					<h:outputText value="#{comp.nome}" />
				</p:column>
				
				<p:column headerText="Ação" width="200" style="text-align:center">
					 <p:commandLink id="cmdLinkEditarCompanhia" 
					 	update="tViewGeral:tViewCadastro:cadComp:inputCompanhiaNome" 
					 	actionListener="#{companhiaController.editar(comp)}" process="@this">
	        			<h:outputText value="Editar" />
	   				</p:commandLink>
	   				
	   				<p:spacer width="20"></p:spacer>
	   				
	   				<p:commandLink id="cmdLinkExcluirCompanhia" update="tViewGeral">
	        			<h:outputText value="Excluir" />
	   				</p:commandLink>
				</p:column>
				
			</p:dataTable>
			
		</p:panel>
		
	</p:panelGrid>
			
	</ui:composition>		
</html>